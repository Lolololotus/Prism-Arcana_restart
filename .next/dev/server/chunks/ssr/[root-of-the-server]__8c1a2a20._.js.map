{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/00%20SnF/Prism-Arcana%202/components/GalacticBackground.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useRef } from 'react';\r\n\r\nexport default function GalacticBackground() {\r\n    const canvasRef = useRef<HTMLCanvasElement>(null);\r\n\r\n    useEffect(() => {\r\n        const canvas = canvasRef.current;\r\n        if (!canvas) return;\r\n\r\n        const ctx = canvas.getContext('2d');\r\n        if (!ctx) return;\r\n\r\n        let w = canvas.width = window.innerWidth;\r\n        let h = canvas.height = window.innerHeight;\r\n\r\n        const stars: Star[] = [];\r\n        const starCount = 150;\r\n        let mouse = { x: -100, y: -100 };\r\n\r\n        class Star {\r\n            x: number;\r\n            y: number;\r\n            size: number;\r\n            opacity: number;\r\n            vx: number;\r\n            vy: number;\r\n\r\n            constructor() {\r\n                this.x = Math.random() * w;\r\n                this.y = Math.random() * h;\r\n                this.size = Math.random() * 1.5;\r\n                this.opacity = Math.random();\r\n                this.vx = (Math.random() - 0.5) * 0.2;\r\n                this.vy = (Math.random() - 0.5) * 0.2;\r\n            }\r\n\r\n            update() {\r\n                this.x += this.vx;\r\n                this.y += this.vy;\r\n\r\n                if (this.x < 0) this.x = w;\r\n                if (this.x > w) this.x = 0;\r\n                if (this.y < 0) this.y = h;\r\n                if (this.y > h) this.y = 0;\r\n\r\n                // Mouse interaction\r\n                const dx = this.x - mouse.x;\r\n                const dy = this.y - mouse.y;\r\n                const dist = Math.sqrt(dx * dx + dy * dy);\r\n                if (dist < 100) {\r\n                    this.x += dx * 0.01;\r\n                    this.y += dy * 0.01;\r\n                }\r\n            }\r\n\r\n            draw() {\r\n                if (!ctx) return;\r\n                ctx.fillStyle = `rgba(248, 248, 248, ${this.opacity})`;\r\n                ctx.beginPath();\r\n                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);\r\n                ctx.fill();\r\n            }\r\n        }\r\n\r\n        for (let i = 0; i < starCount; i++) {\r\n            stars.push(new Star());\r\n        }\r\n\r\n        function animate() {\r\n            if (!ctx) return;\r\n            ctx.clearRect(0, 0, w, h);\r\n\r\n            // Noise background pattern could be added here if needed, \r\n            // but pure black + gradients in CSS covers the requirement.\r\n\r\n            stars.forEach(star => {\r\n                star.update();\r\n                star.draw();\r\n            });\r\n            requestAnimationFrame(animate);\r\n        }\r\n\r\n        const handleResize = () => {\r\n            w = canvas.width = window.innerWidth;\r\n            h = canvas.height = window.innerHeight;\r\n        };\r\n\r\n        const handleMouseMove = (e: MouseEvent) => {\r\n            mouse.x = e.clientX;\r\n            mouse.y = e.clientY;\r\n        };\r\n\r\n        const handleTouchMove = (e: TouchEvent) => {\r\n            if (e.touches.length > 0) {\r\n                mouse.x = e.touches[0].clientX;\r\n                mouse.y = e.touches[0].clientY;\r\n            }\r\n        };\r\n\r\n        window.addEventListener('resize', handleResize);\r\n        window.addEventListener('mousemove', handleMouseMove);\r\n        window.addEventListener('touchmove', handleTouchMove);\r\n        animate();\r\n\r\n        return () => {\r\n            window.removeEventListener('resize', handleResize);\r\n            window.removeEventListener('mousemove', handleMouseMove);\r\n            window.removeEventListener('touchmove', handleTouchMove);\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <canvas\r\n            ref={canvasRef}\r\n            className=\"fixed top-0 left-0 w-full h-full pointer-events-none z-0\"\r\n            style={{ background: 'transparent' }}\r\n        />\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/00%20SnF/Prism-Arcana%202/components/ArcanaCard.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { motion } from \"framer-motion\";\r\n\r\ninterface ArcanaCardProps {\r\n    image?: string;\r\n    intensity?: number; // 0 to 1 for prism effect\r\n    glowColor?: string;\r\n}\r\n\r\nexport default function ArcanaCard({ image, intensity = 0, glowColor = \"#d4af37\" }: ArcanaCardProps) {\r\n    return (\r\n        <motion.div\r\n            className=\"arcana-card\"\r\n            initial={{ opacity: 0, scale: 0.9 }}\r\n            animate={{ opacity: 1, scale: 1 }}\r\n            transition={{ duration: 1.5, ease: \"easeOut\" }}\r\n        >\r\n            {/* Prism Overlay Layer */}\r\n            <motion.div\r\n                className=\"absolute inset-0 z-20 pointer-events-none\"\r\n                style={{\r\n                    background: `linear-gradient(45deg, rgba(255,0,0,0.1), rgba(0,255,0,0.1), rgba(0,0,255,0.1))`,\r\n                    opacity: intensity,\r\n                    mixBlendMode: \"overlay\"\r\n                }}\r\n            />\r\n\r\n            {/* Content Area */}\r\n            <div className=\"w-full h-full flex items-center justify-center bg-black/40\">\r\n                {image ? (\r\n                    <img src={image} alt=\"Arcana\" className=\"w-full h-full object-cover\" />\r\n                ) : (\r\n                    <div className=\"tracking-widest text-[#F8F8F8]/20 text-xs italic\">\r\n                        DIVINING...\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Internal Border Glow */}\r\n            <div className=\"absolute inset-0 border border-gold/20 pointer-events-none\" />\r\n        </motion.div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAUe,SAAS,WAAW,EAAE,KAAK,EAAE,YAAY,CAAC,EAAE,YAAY,SAAS,EAAmB;IAC/F,qBACI,8OAAC,oMAAM,CAAC,GAAG;QACP,WAAU;QACV,SAAS;YAAE,SAAS;YAAG,OAAO;QAAI;QAClC,SAAS;YAAE,SAAS;YAAG,OAAO;QAAE;QAChC,YAAY;YAAE,UAAU;YAAK,MAAM;QAAU;;0BAG7C,8OAAC,oMAAM,CAAC,GAAG;gBACP,WAAU;gBACV,OAAO;oBACH,YAAY,CAAC,+EAA+E,CAAC;oBAC7F,SAAS;oBACT,cAAc;gBAClB;;;;;;0BAIJ,8OAAC;gBAAI,WAAU;0BACV,sBACG,8OAAC;oBAAI,KAAK;oBAAO,KAAI;oBAAS,WAAU;;;;;yCAExC,8OAAC;oBAAI,WAAU;8BAAmD;;;;;;;;;;;0BAO1E,8OAAC;gBAAI,WAAU;;;;;;;;;;;;AAG3B"}},
    {"offset": {"line": 205, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/00%20SnF/Prism-Arcana%202/components/TypingNarrative.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\n\r\ninterface TypingNarrativeProps {\r\n    text: string;\r\n    onComplete?: () => void;\r\n}\r\n\r\nexport default function TypingNarrative({ text, onComplete }: TypingNarrativeProps) {\r\n    const [displayedText, setDisplayedText] = useState(\"\");\r\n    const [currentIndex, setCurrentIndex] = useState(0);\r\n\r\n    useEffect(() => {\r\n        if (currentIndex < text.length) {\r\n            const timeout = setTimeout(() => {\r\n                setDisplayedText((prev) => prev + text[currentIndex]);\r\n                setCurrentIndex((prev) => prev + 1);\r\n            }, 50 + Math.random() * 50); // Natural typing speed\r\n            return () => clearTimeout(timeout);\r\n        } else if (onComplete) {\r\n            onComplete();\r\n        }\r\n    }, [currentIndex, text, onComplete]);\r\n\r\n    // Split by paragraphs to maintain structure\r\n    const paragraphs = displayedText.split('\\n\\n');\r\n\r\n    return (\r\n        <div className=\"w-full max-w-2xl text-center font-serif tracking-widest leading-loose\">\r\n            {paragraphs.map((p, i) => (\r\n                <motion.p\r\n                    key={i}\r\n                    initial={{ opacity: 0 }}\r\n                    animate={{ opacity: 1 }}\r\n                    className=\"mb-8 bloom-text text-lg text-[#F8F8F8]\"\r\n                >\r\n                    {p}\r\n                    {i === paragraphs.length - 1 && currentIndex < text.length && (\r\n                        <span className=\"cursor\" />\r\n                    )}\r\n                </motion.p>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAUe,SAAS,gBAAgB,EAAE,IAAI,EAAE,UAAU,EAAwB;IAC9E,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IACnD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IAEjD,IAAA,kNAAS,EAAC;QACN,IAAI,eAAe,KAAK,MAAM,EAAE;YAC5B,MAAM,UAAU,WAAW;gBACvB,iBAAiB,CAAC,OAAS,OAAO,IAAI,CAAC,aAAa;gBACpD,gBAAgB,CAAC,OAAS,OAAO;YACrC,GAAG,KAAK,KAAK,MAAM,KAAK,KAAK,uBAAuB;YACpD,OAAO,IAAM,aAAa;QAC9B,OAAO,IAAI,YAAY;YACnB;QACJ;IACJ,GAAG;QAAC;QAAc;QAAM;KAAW;IAEnC,4CAA4C;IAC5C,MAAM,aAAa,cAAc,KAAK,CAAC;IAEvC,qBACI,8OAAC;QAAI,WAAU;kBACV,WAAW,GAAG,CAAC,CAAC,GAAG,kBAChB,8OAAC,oMAAM,CAAC,CAAC;gBAEL,SAAS;oBAAE,SAAS;gBAAE;gBACtB,SAAS;oBAAE,SAAS;gBAAE;gBACtB,WAAU;;oBAET;oBACA,MAAM,WAAW,MAAM,GAAG,KAAK,eAAe,KAAK,MAAM,kBACtD,8OAAC;wBAAK,WAAU;;;;;;;eAPf;;;;;;;;;;AAazB"}},
    {"offset": {"line": 271, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/00%20SnF/Prism-Arcana%202/components/JewelSlot.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { motion } from \"framer-motion\";\r\n\r\ninterface JewelSlotProps {\r\n    type: \"diamond\" | \"circle\";\r\n    isActive?: boolean;\r\n    color?: string;\r\n    onClick?: () => void;\r\n}\r\n\r\nexport default function JewelSlot({ type, isActive, color, onClick }: JewelSlotProps) {\r\n    return (\r\n        <motion.div\r\n            onClick={onClick}\r\n            className={`jewel-slot ${type} cursor-pointer relative overflow-hidden`}\r\n            whileHover={{ scale: 1.1 }}\r\n            whileTap={{ scale: 0.9 }}\r\n        >\r\n            {/* Active Color Fill */}\r\n            {isActive && (\r\n                <motion.div\r\n                    initial={{ scale: 0, opacity: 0 }}\r\n                    animate={{ scale: 1, opacity: 1 }}\r\n                    className=\"absolute inset-0 z-10\"\r\n                    style={{\r\n                        background: color || \"var(--accent)\",\r\n                        boxShadow: `inset 0 0 15px rgba(255,255,255,0.4), 0 0 20px ${color || \"var(--accent)\"}`\r\n                    }}\r\n                />\r\n            )}\r\n\r\n            {/* Particle burst placeholder - done via Framer Motion on parent trigger */}\r\n            {isActive && (\r\n                <motion.div\r\n                    initial={{ opacity: 1 }}\r\n                    animate={{ opacity: 0 }}\r\n                    transition={{ duration: 0.5 }}\r\n                    className=\"absolute inset-x-0 inset-y-0 z-20 bg-white/20\"\r\n                />\r\n            )}\r\n        </motion.div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAWe,SAAS,UAAU,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,OAAO,EAAkB;IAChF,qBACI,8OAAC,oMAAM,CAAC,GAAG;QACP,SAAS;QACT,WAAW,CAAC,WAAW,EAAE,KAAK,wCAAwC,CAAC;QACvE,YAAY;YAAE,OAAO;QAAI;QACzB,UAAU;YAAE,OAAO;QAAI;;YAGtB,0BACG,8OAAC,oMAAM,CAAC,GAAG;gBACP,SAAS;oBAAE,OAAO;oBAAG,SAAS;gBAAE;gBAChC,SAAS;oBAAE,OAAO;oBAAG,SAAS;gBAAE;gBAChC,WAAU;gBACV,OAAO;oBACH,YAAY,SAAS;oBACrB,WAAW,CAAC,+CAA+C,EAAE,SAAS,iBAAiB;gBAC3F;;;;;;YAKP,0BACG,8OAAC,oMAAM,CAAC,GAAG;gBACP,SAAS;oBAAE,SAAS;gBAAE;gBACtB,SAAS;oBAAE,SAAS;gBAAE;gBACtB,YAAY;oBAAE,UAAU;gBAAI;gBAC5B,WAAU;;;;;;;;;;;;AAK9B"}},
    {"offset": {"line": 337, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/00%20SnF/Prism-Arcana%202/app/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport GalacticBackground from \"@/components/GalacticBackground\";\r\nimport ArcanaCard from \"@/components/ArcanaCard\";\r\nimport TypingNarrative from \"@/components/TypingNarrative\";\r\nimport JewelSlot from \"@/components/JewelSlot\";\r\n\r\nexport default function Home() {\r\n    const [step, setStep] = useState(1);\r\n    const [rawName, setRawName] = useState(\"\");\r\n    const [birthDate, setBirthDate] = useState(\"\");\r\n    const [lifePath, setLifePath] = useState<number | null>(null);\r\n    const [narrative, setNarrative] = useState(\"\");\r\n    const [isTyping, setIsTyping] = useState(false);\r\n    const [objects, setObjects] = useState<string[]>([]);\r\n    const [colors, setColors] = useState<string[]>([]);\r\n    const [bridgeProgress, setBridgeProgress] = useState(0);\r\n\r\n    // Calculate Life Path Number\r\n    const calculateLifePath = (date: string) => {\r\n        const digits = date.replace(/\\D/g, \"\");\r\n        if (digits.length !== 8) return;\r\n\r\n        let sum = digits.split(\"\").reduce((acc, d) => acc + parseInt(d), 0);\r\n        while (sum > 9 && sum !== 11 && sum !== 22) {\r\n            sum = sum.toString().split(\"\").reduce((acc, d) => acc + parseInt(d), 0);\r\n        }\r\n        setLifePath(sum);\r\n        setStep(3); // Move to Step 3: Life Card reveal\r\n    };\r\n\r\n    const startInterpretation = async () => {\r\n        setStep(4);\r\n        setIsTyping(true);\r\n        try {\r\n            const response = await fetch(\"/api/chat\", {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({\r\n                    message: `나의 인생 번호는 ${lifePath}이다. 나의 근원을 해석하라.`,\r\n                    rawName,\r\n                    history: []\r\n                }),\r\n            });\r\n            const data = await response.json();\r\n            setNarrative(data.text);\r\n        } catch (error) {\r\n            console.error(error);\r\n            setNarrative(\"천상의 회로에 균열이 생겼다. 다시 시도하라.\");\r\n        }\r\n    };\r\n\r\n    const handleObjectCollect = (id: string) => {\r\n        if (objects.length < 3 && !objects.includes(id)) {\r\n            setObjects([...objects, id]);\r\n        }\r\n    };\r\n\r\n    const handleColorCollect = (id: string) => {\r\n        if (colors.length < 2 && !colors.includes(id)) {\r\n            setColors([...colors, id]);\r\n        }\r\n    };\r\n\r\n    const startGeneration = () => {\r\n        setStep(7);\r\n        setTimeout(() => setStep(8), 3000);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (step === 8) {\r\n            const interval = setInterval(() => {\r\n                setBridgeProgress(prev => {\r\n                    if (prev >= 100) {\r\n                        clearInterval(interval);\r\n                        setStep(9);\r\n                        return 100;\r\n                    }\r\n                    return prev + 1;\r\n                });\r\n            }, 50);\r\n            return () => clearInterval(interval);\r\n        }\r\n    }, [step]);\r\n\r\n    return (\r\n        <main className=\"ritual-container overflow-hidden\">\r\n            <GalacticBackground />\r\n\r\n            <AnimatePresence mode=\"wait\">\r\n                {step === 1 && (\r\n                    <motion.div\r\n                        key=\"step1\"\r\n                        initial={{ opacity: 0, scale: 0.9 }}\r\n                        animate={{ opacity: 1, scale: 1 }}\r\n                        exit={{ opacity: 0, scale: 1.1 }}\r\n                        className=\"z-10 text-center flex flex-col items-center\"\r\n                    >\r\n                        <h1 className=\"tracking-widest mb-12 text-2xl font-bold bloom-text\">\r\n                            당신의 성명을 새겨넣으십시오.\r\n                        </h1>\r\n                        <input\r\n                            type=\"text\"\r\n                            autoFocus\r\n                            value={rawName}\r\n                            onChange={(e) => setRawName(e.target.value)}\r\n                            className=\"bg-transparent border-b border-white/20 p-2 text-center text-3xl tracking-widest outline-none font-serif text-[#F8F8F8] bloom-text\"\r\n                            placeholder=\"...\"\r\n                            onKeyDown={(e) => e.key === \"Enter\" && rawName && setStep(2)}\r\n                        />\r\n                    </motion.div>\r\n                )}\r\n\r\n                {step === 2 && (\r\n                    <motion.div\r\n                        key=\"step2\"\r\n                        initial={{ opacity: 0 }}\r\n                        animate={{ opacity: 1 }}\r\n                        exit={{ opacity: 0 }}\r\n                        className=\"z-10 text-center flex flex-col items-center\"\r\n                    >\r\n                        <h1 className=\"tracking-widest mb-12 text-2xl font-bold bloom-text\">\r\n                            탄생의 궤적을 입력하십시오 (8자리).\r\n                        </h1>\r\n                        <input\r\n                            type=\"text\"\r\n                            autoFocus\r\n                            maxLength={8}\r\n                            value={birthDate}\r\n                            onChange={(e) => setBirthDate(e.target.value.replace(/\\D/g, \"\"))}\r\n                            className=\"bg-transparent border-b border-white/20 p-2 text-center text-3xl tracking-widest outline-none font-serif text-[#F8F8F8] bloom-text\"\r\n                            placeholder=\"YYYYMMDD\"\r\n                            onKeyDown={(e) => e.key === \"Enter\" && birthDate.length === 8 && calculateLifePath(birthDate)}\r\n                        />\r\n                    </motion.div>\r\n                )}\r\n\r\n                {step === 3 && (\r\n                    <motion.div\r\n                        key=\"step3\"\r\n                        initial={{ opacity: 0 }}\r\n                        animate={{ opacity: 1 }}\r\n                        exit={{ opacity: 0 }}\r\n                        className=\"z-10 flex flex-col items-center w-full max-w-lg\"\r\n                    >\r\n                        <ArcanaCard intensity={0.2} />\r\n                        <motion.div\r\n                            initial={{ opacity: 0, y: 10 }}\r\n                            animate={{ opacity: 1, y: 0 }}\r\n                            transition={{ delay: 1 }}\r\n                            className=\"text-center mt-8\"\r\n                        >\r\n                            <h2 className=\"tracking-widest text-xl opacity-60\">인생 번호: {lifePath}</h2>\r\n                            <button\r\n                                onClick={startInterpretation}\r\n                                className=\"mt-8 px-8 py-2 border border-accent/40 text-accent tracking-widest hover:bg-accent/10 transition-all font-serif\"\r\n                            >\r\n                                의식 계속하기\r\n                            </button>\r\n                        </motion.div>\r\n                    </motion.div>\r\n                )}\r\n\r\n                {step === 4 && (\r\n                    <motion.div\r\n                        key=\"step4\"\r\n                        initial={{ opacity: 0 }}\r\n                        animate={{ opacity: 1 }}\r\n                        exit={{ opacity: 0 }}\r\n                        className=\"z-10 flex flex-col items-center w-full px-4\"\r\n                    >\r\n                        <div className=\"mb-12 opacity-40\">\r\n                            <ArcanaCard intensity={0.1} />\r\n                        </div>\r\n                        {narrative ? (\r\n                            <TypingNarrative text={narrative} onComplete={() => setIsTyping(false)} />\r\n                        ) : (\r\n                            <p className=\"tracking-widest animate-pulse\">심연의 서사를 길어올리는 중...</p>\r\n                        )}\r\n\r\n                        {!isTyping && narrative && (\r\n                            <motion.button\r\n                                initial={{ opacity: 0 }}\r\n                                animate={{ opacity: 1 }}\r\n                                onClick={() => setStep(5)}\r\n                                className=\"mt-12 px-12 py-3 glass-effect text-accent tracking-widest border border-accent/20 hover:border-accent font-serif\"\r\n                            >\r\n                                공방으로 진입하기\r\n                            </motion.button>\r\n                        )}\r\n                    </motion.div>\r\n                )}\r\n\r\n                {(step === 5 || step === 6) && (\r\n                    <motion.div\r\n                        key=\"workshop\"\r\n                        initial={{ opacity: 0 }}\r\n                        animate={{ opacity: 1 }}\r\n                        exit={{ opacity: 0 }}\r\n                        className=\"z-10 flex flex-col items-center w-full max-w-4xl\"\r\n                    >\r\n                        <ArcanaCard intensity={objects.length * 0.2 + colors.length * 0.2} />\r\n\r\n                        <div className=\"mt-12 text-center\">\r\n                            <p className=\"tracking-widest mb-8 bloom-text\">\r\n                                {step === 5 ? \"지미니: 운명의 파편들을 선택하십시오.\" : \"지미니: 색채의 영혼을 불어넣으십시오.\"}\r\n                            </p>\r\n\r\n                            <div className=\"flex gap-4 mb-8\">\r\n                                {[1, 2, 3].map(i => (\r\n                                    <JewelSlot\r\n                                        key={`obj-${i}`}\r\n                                        type=\"diamond\"\r\n                                        isActive={objects.length >= i}\r\n                                        onClick={() => {\r\n                                            if (step === 5) handleObjectCollect(`obj-${i}`);\r\n                                        }}\r\n                                    />\r\n                                ))}\r\n                                {[1, 2].map(i => (\r\n                                    <JewelSlot\r\n                                        key={`col-${i}`}\r\n                                        type=\"circle\"\r\n                                        isActive={colors.length >= i}\r\n                                        color={i === 1 ? \"#ff4d4d\" : \"#4d79ff\"}\r\n                                        onClick={() => {\r\n                                            if (step === 6) handleColorCollect(`col-${i}`);\r\n                                        }}\r\n                                    />\r\n                                ))}\r\n                            </div>\r\n\r\n                            {step === 5 && objects.length === 3 && (\r\n                                <button onClick={() => setStep(6)} className=\"px-8 py-2 border border-accent/20 text-accent tracking-widest font-serif hover:bg-accent/10 transition-all\">다음 단계로</button>\r\n                            )}\r\n\r\n                            {step === 6 && colors.length === 2 && (\r\n                                <button onClick={startGeneration} className=\"px-8 py-2 border border-accent/20 text-accent tracking-widest font-serif hover:bg-accent/10 transition-all\">아르카나 생성</button>\r\n                            )}\r\n                        </div>\r\n                    </motion.div>\r\n                )}\r\n\r\n                {step === 7 && (\r\n                    <motion.div\r\n                        key=\"step7\"\r\n                        initial={{ opacity: 0 }}\r\n                        animate={{ opacity: 1 }}\r\n                        exit={{ opacity: 0 }}\r\n                        className=\"z-10 text-center\"\r\n                    >\r\n                        <ArcanaCard intensity={1} />\r\n                        <p className=\"tracking-widest mt-12 bloom-text animate-pulse\">\r\n                            심연의 스테인드글라스를 구워내는 중...\r\n                        </p>\r\n                    </motion.div>\r\n                )}\r\n\r\n                {step === 8 && (\r\n                    <motion.div\r\n                        key=\"step8\"\r\n                        initial={{ opacity: 0 }}\r\n                        animate={{ opacity: 1 }}\r\n                        exit={{ opacity: 0 }}\r\n                        className=\"z-10 w-full max-w-md text-center\"\r\n                    >\r\n                        <h2 className=\"tracking-widest mb-8 text-xl bloom-text\">2026년의 운명을 인양 중...</h2>\r\n                        <div className=\"w-full h-1 bg-white/10 rounded-full overflow-hidden\">\r\n                            <motion.div\r\n                                className=\"h-full bg-accent\"\r\n                                initial={{ width: 0 }}\r\n                                animate={{ width: `${bridgeProgress}%` }}\r\n                            />\r\n                        </div>\r\n                        <p className=\"mt-4 text-xs tracking-widest opacity-40\">성스러운 연결이 지속되고 있습니다.</p>\r\n                    </motion.div>\r\n                )}\r\n\r\n                {step === 9 && (\r\n                    <motion.div\r\n                        key=\"step9\"\r\n                        initial={{ opacity: 0, scale: 0.9 }}\r\n                        animate={{ opacity: 1, scale: 1 }}\r\n                        className=\"z-10 flex flex-col items-center w-full max-w-lg\"\r\n                    >\r\n                        <ArcanaCard intensity={1} glowColor=\"#ffcc00\" />\r\n                        <div className=\"text-center mt-12\">\r\n                            <h1 className=\"tracking-widest text-3xl font-bold bloom-text mb-4\">2026 ARCANUM</h1>\r\n                            <p className=\"tracking-widest opacity-60 mb-12\">\"{rawName}\" 님의 최종 운명이 확정되었습니다.</p>\r\n\r\n                            <button className=\"px-12 py-3 border border-accent text-accent tracking-widest hover:bg-accent hover:text-black transition-all font-serif\">\r\n                                운명의 이미지 저장하기\r\n                            </button>\r\n\r\n                            <button\r\n                                onClick={() => window.location.reload()}\r\n                                className=\"block mt-8 text-xs tracking-widest opacity-40 hover:opacity-100 transition-opacity\"\r\n                            >\r\n                                새로운 리추얼 시작하기\r\n                            </button>\r\n                        </div>\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n\r\n            {step === 3 && (\r\n                <motion.div\r\n                    initial={{ opacity: 1 }}\r\n                    animate={{ opacity: 0 }}\r\n                    transition={{ duration: 0.5 }}\r\n                    className=\"fixed inset-0 bg-white z-50 pointer-events-none\"\r\n                />\r\n            )}\r\n        </main>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}